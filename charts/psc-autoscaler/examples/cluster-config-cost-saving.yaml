apiVersion: perfectscale.io/v1
kind: ClusterAutomationConfig
metadata:
  name: cluster-automation-config
spec:
  automation:
    operational:
      stopAllAutomation: false
      automationStrategy: "inPlace" # "inPlace" or "evictMutate", default is "inPlace"
      podResizePendingStrategy: "rollingRestart" # "rollingRestart" or "deleteRecreatePendingPod", default is "rollingRestart"
    workloadTypes:
      Deployment:
        operational:
          automationMode: "Enabled"
          automationStrategy: "inPlace" # "inPlace" or "evictMutate", default is "inPlace"
          podResizePendingStrategy: "rollingRestart" # "rollingRestart" or "deleteRecreatePendingPod", default is "rollingRestart"
          restrictions:
            cpuManagement:
              request:
                increaseEnabled: false
                decreaseEnabled: true
              limit:
                keepLimit: true
            memoryManagement:
              request:
                increaseEnabled: false
                decreaseEnabled: true
              limit:
                increaseEnabled: false
                decreaseEnabled: false
      DaemonSet:
        operational:
          automationMode: "Enabled"
          restrictions:
            cpuManagement:
              request:
                increaseEnabled: false
                decreaseEnabled: true
              limit:
                keepLimit: true
            memoryManagement:
              request:
                increaseEnabled: false
                decreaseEnabled: true
              limit:
                increaseEnabled: false
                decreaseEnabled: false
      CronJob:
        operational:
          automationMode: "Enabled"
          restrictions:
            cpuManagement:
              request:
                increaseEnabled: false
                decreaseEnabled: true
              limit:
                keepLimit: true
            memoryManagement:
              request:
                increaseEnabled: false
                decreaseEnabled: true
              limit:
                increaseEnabled: false
                decreaseEnabled: false
      Job:
        operational:
          automationMode: "Enabled"
          restrictions:
            cpuManagement:
              request:
                increaseEnabled: false
                decreaseEnabled: true
              limit:
                keepLimit: true
            memoryManagement:
              request:
                increaseEnabled: false
                decreaseEnabled: true
              limit:
                increaseEnabled: false
                decreaseEnabled: false
